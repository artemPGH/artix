<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>ARTIX ‚Äî –ø–æ–º–æ—â–Ω–∏–∫</title>
    <style>
        * { box-sizing: border-box; }

        body {
            background: radial-gradient(circle at top, #050716, #020308 60%, #000000);
            color: #f5f5f5;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 16px;
        }

        .app {
            width: 100%;
            max-width: 760px;
            background: rgba(8, 10, 26, 0.96);
            border-radius: 20px;
            padding: 22px 22px 16px;
            box-shadow:
                0 0 40px rgba(0, 0, 0, 0.8),
                0 0 80px rgba(88, 166, 255, 0.18);
            border: 1px solid rgba(255, 255, 255, 0.06);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 12px;
            gap: 12px;
        }

        .title {
            font-size: 26px;
            letter-spacing: 0.12em;
            text-transform: uppercase;
        }

        .subtitle {
            font-size: 12px;
            opacity: 0.7;
        }

        .mode-switch {
            display: inline-flex;
            padding: 3px;
            border-radius: 999px;
            background: rgba(15,23,42,0.85);
            border: 1px solid rgba(148,163,184,0.4);
        }

        .mode-btn {
            border: none;
            background: transparent;
            color: #cbd5f5;
            font-size: 11px;
            padding: 6px 12px;
            border-radius: 999px;
            cursor: pointer;
            opacity: 0.85;
        }

        .mode-btn.active {
            background: radial-gradient(circle at top, #4f46e5, #312e81);
            color: #f9fafb;
            opacity: 1;
            box-shadow: 0 0 12px rgba(129, 140, 248, 0.6);
        }

        .chat {
            background: rgba(15, 23, 42, 0.9);
            border-radius: 12px;
            padding: 10px 10px;
            height: 290px;
            overflow-y: auto;
            font-size: 14px;
            margin-bottom: 12px;
            border: 1px solid rgba(30,64,175,0.5);
        }

        .msg {
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .msg-user {
            text-align: right;
        }

        .msg-user span {
            background: linear-gradient(135deg, rgba(59,130,246,0.35), rgba(8,47,73,0.9));
            padding: 7px 11px;
            border-radius: 12px;
            display: inline-block;
            max-width: 85%;
        }

        .msg-bot span {
            background: linear-gradient(135deg, rgba(16,185,129,0.24), rgba(15,23,42,0.95));
            padding: 7px 11px;
            border-radius: 12px;
            display: inline-block;
            max-width: 100%;
        }

        .msg-bot code {
            font-family: "JetBrains Mono", SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: 12px;
        }

        pre {
            margin: 6px 0 2px;
            padding: 8px 10px;
            border-radius: 10px;
            background: rgba(15,23,42,0.9);
            border: 1px solid rgba(55,65,81,0.8);
            overflow-x: auto;
        }

        .input-row {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
        }

        input[type="text"] {
            flex: 1;
            padding: 9px 11px;
            border-radius: 10px;
            border: 1px solid rgba(148,163,184,0.7);
            background: rgba(15,23,42,0.95);
            color: #e5e7eb;
            outline: none;
            font-size: 14px;
        }

        input[type="text"]::placeholder {
            color: rgba(148,163,184,0.7);
        }

        button.send-btn {
            padding: 9px 14px;
            border-radius: 10px;
            border: none;
            background: linear-gradient(135deg, #4f46e5, #06b6d4);
            color: #fff;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.08s ease, box-shadow 0.08s ease, background 0.1s ease;
            font-size: 14px;
            white-space: nowrap;
        }

        button.send-btn:hover {
            box-shadow: 0 0 14px rgba(59,130,246,0.75);
            transform: translateY(-1px);
        }

        button.send-btn:active {
            transform: translateY(0);
            box-shadow: none;
        }

        .footer {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            font-size: 11px;
            opacity: 0.7;
            margin-top: 4px;
            flex-wrap: wrap;
        }

        .hint-label {
            opacity: 0.85;
        }

        .hints {
            opacity: 0.8;
        }

        .hints span {
            background: rgba(15,23,42,0.95);
            border-radius: 999px;
            padding: 3px 8px;
            border: 1px solid rgba(148,163,184,0.6);
            margin-right: 4px;
            margin-bottom: 2px;
            display: inline-block;
        }

        @media (max-width: 600px) {
            .app {
                padding: 14px 12px 12px;
            }
            .chat {
                height: 260px;
            }
            .title {
                font-size: 22px;
            }
        }
    </style>
</head>
<body>
<div class="app">
    <div class="header">
        <div>
            <div class="title">ARTIX</div>
            <div class="subtitle">–ø—Ä–æ—Å—Ç–∞—è –æ–±—É—á–∞—é—â–∞—è —Å—Ä–µ–¥–∞ –∏ –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ Python</div>
        </div>
        <div class="mode-switch">
            <button class="mode-btn active" data-mode="general">–û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º</button>
            <button class="mode-btn" data-mode="python">Python —Ä–µ–∂–∏–º</button>
        </div>
    </div>

    <div id="chat" class="chat"></div>

    <div class="input-row">
        <input
            id="userInput"
            type="text"
            placeholder="–ó–∞–¥–∞–π –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä: —á—Ç–æ —Ç–∞–∫–æ–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è?"
        >
        <button id="sendBtn" class="send-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </div>

    <div class="footer">
        <div>
            <span class="hint-label">–†–µ–∂–∏–º—ã:</span>
            <span>–æ–±—ã—á–Ω—ã–π ‚Äî –±–∞–∑–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã,</span>
            <span>Python ‚Äî –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏.</span>
        </div>
        <div class="hints" id="hints">
            <span>—á—Ç–æ —Ç–∞–∫–æ–µ python</span>
            <span>–∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Ü–∏–∫–ª for –≤ python</span>
        </div>
    </div>
</div>

<script>
    // =========================
    // 1. –ë–ê–ó–û–í–´–ï –£–¢–ò–õ–ò–¢–´
    // =========================

    function tokenize(text) {
        return text
            .toLowerCase()
            .split(/[^a-zA-Z–∞-—è–ê-–Ø0-9_]+/u)
            .filter(Boolean);
    }

    function similarityScore(question, item) {
        // item: { q: "...", tags: ["..."], answer: "..." }
        const qTokens = new Set(tokenize(question));
        const itemText = (item.q + " " + (item.tags || []).join(" ")).toLowerCase();
        const itemTokens = new Set(tokenize(itemText));

        if (!qTokens.size || !itemTokens.size) return 0;

        let inter = 0;
        qTokens.forEach(t => {
            if (itemTokens.has(t)) inter++;
        });

        return inter / Math.max(qTokens.size, itemTokens.size);
    }

    function findBestMatch(question, knowledgeBase) {
        let best = null;
        let bestScore = 0;

        for (const item of knowledgeBase) {
            const score = similarityScore(question, item);
            if (score > bestScore) {
                bestScore = score;
                best = item;
            }
        }

        return { item: best, score: bestScore };
    }

    // =========================
    // 2. –ë–ê–ó–ê –ó–ù–ê–ù–ò–ô ‚Äî –û–ë–´–ß–ù–´–ô –†–ï–ñ–ò–ú
    // =========================

    const generalKnowledge = [
        {
            q: "—á—Ç–æ —Ç–∞–∫–æ–µ artix",
            tags: ["artix", "–∫—Ç–æ —Ç—ã", "–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç"],
            answer: "ARTIX ‚Äî –ø—Ä–æ—Å—Ç–æ–π –ø–æ–º–æ—â–Ω–∏–∫ –∏ –æ–±—É—á–∞—é—â–∞—è —Å—Ä–µ–¥–∞. –û–Ω –º–æ–∂–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –±–∞–∑–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –Ω–∞ Python."
        },
        {
            q: "–∫—Ç–æ —Ç–µ–±—è —Å–æ–∑–¥–∞–ª",
            tags: ["—Å–æ–∑–¥–∞—Ç–µ–ª—å", "–∞–≤—Ç–æ—Ä", "–∞—Ä—Ç–µ–º"],
            answer: "–ú–µ–Ω—è —Å–æ–∑–¥–∞–ª –ê—Ä—Ç—ë–º. –≠—Ç–æ—Ç —Å–∞–π—Ç –∏ –ª–æ–≥–∏–∫–∞ –æ—Ç–≤–µ—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ."
        },
        {
            q: "—á—Ç–æ —Ç–∞–∫–æ–µ python",
            tags: ["python", "–ø–∏—Ç–æ–Ω", "—è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è"],
            answer: "Python ‚Äî –ø–æ–ø—É–ª—è—Ä–Ω—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è. –ï–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏, –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ –º–Ω–æ–≥–æ–≥–æ –¥—Ä—É–≥–æ–≥–æ."
        },
        {
            q: "—á—Ç–æ —Ç–∞–∫–æ–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è",
            tags: ["–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è"],
            answer: "–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è ‚Äî —ç—Ç–æ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∑–Ω–∞—á–µ–Ω–∏—è. –í –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∞—é—Ç –∏–º—è –∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ –∫–æ–¥–µ."
        },
        {
            q: "—á—Ç–æ —Ç–∞–∫–æ–µ –∞–ª–≥–æ—Ä–∏—Ç–º",
            tags: ["–∞–ª–≥–æ—Ä–∏—Ç–º", "—à–∞–≥–∏", "–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è"],
            answer: "–ê–ª–≥–æ—Ä–∏—Ç–º ‚Äî —ç—Ç–æ —á—ë—Ç–∫–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —à–∞–≥–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ —Ä–µ—à–∏—Ç—å –∑–∞–¥–∞—á—É –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç."
        },
        {
            q: "—á—Ç–æ —Ç–∞–∫–æ–µ ide",
            tags: ["ide", "—Ä–µ–¥–∞–∫—Ç–æ—Ä", "—Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏"],
            answer: "IDE (–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏) ‚Äî –ø—Ä–æ–≥—Ä–∞–º–º–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–∞–µ—Ç –ø–∏—Å–∞—Ç—å –∫–æ–¥: –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞, –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ, –∑–∞–ø—É—Å–∫, –æ—Ç–ª–∞–¥–∫–∞ –∏ —Ç.–ø. –ü—Ä–∏–º–µ—Ä—ã: VS Code, PyCharm."
        }
    ];

    // =========================
    // 3. –ë–ê–ó–ê –ó–ù–ê–ù–ò–ô ‚Äî PYTHON –†–ï–ñ–ò–ú
    // =========================

    const pythonKnowledge = [
        {
            q: "–≤—ã–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –Ω–∞ —ç–∫—Ä–∞–Ω",
            tags: ["print", "–≤—ã–≤–æ–¥", "—Ç–µ–∫—Å—Ç"],
            answer: `
–ß—Ç–æ–±—ã –≤—ã–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –Ω–∞ —ç–∫—Ä–∞–Ω –≤ Python, –∏—Å–ø–æ–ª—å–∑—É–π —Ñ—É–Ω–∫—Ü–∏—é <code>print</code>:

<pre><code>print("–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!")</code></pre>

–ú–æ–∂–Ω–æ –≤—ã–≤–æ–¥–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π:

<pre><code>name = "–ê—Ä—Ç—ë–º"
age = 15
print("–ú–µ–Ω—è –∑–æ–≤—É—Ç", name, "–∏ –º–Ω–µ", age, "–ª–µ—Ç")</code></pre>
            `
        },
        {
            q: "—Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é",
            tags: ["–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è", "variable", "–ø—Ä–∏—Å–≤–æ–∏—Ç—å"],
            answer: `
–í Python –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–∏:

<pre><code>age = 15
name = "–ê—Ä—Ç—ë–º"
pi = 3.14
is_active = True</code></pre>

–¢–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é.
            `
        },
        {
            q: "—É—Å–ª–æ–≤–∏–µ if",
            tags: ["if", "else", "—É—Å–ª–æ–≤–∏–µ"],
            answer: `
–ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–≥–æ —É—Å–ª–æ–≤–∏—è –≤ Python:

<pre><code>x = 10

if x &gt; 5:
    print("x –±–æ–ª—å—à–µ 5")
elif x == 5:
    print("x —Ä–∞–≤–Ω–æ 5")
else:
    print("x –º–µ–Ω—å—à–µ 5")</code></pre>

–û—Ç—Å—Ç—É–ø—ã –≤–∞–∂–Ω—ã: –æ–±—ã—á–Ω–æ 4 –ø—Ä–æ–±–µ–ª–∞.
            `
        },
        {
            q: "—Ü–∏–∫–ª for",
            tags: ["for", "—Ü–∏–∫–ª", "range"],
            answer: `
–ü—Ä–∏–º–µ—Ä —Ü–∏–∫–ª–∞ <code>for</code> —Å <code>range</code>:

<pre><code>for i in range(5):
    print("–ò—Ç–µ—Ä–∞—Ü–∏—è:", i)</code></pre>

–ü–µ—Ä–µ–±–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–ø–∏—Å–∫–∞:

<pre><code>numbers = [10, 20, 30]
for n in numbers:
    print(n)</code></pre>
            `
        },
        {
            q: "—Ü–∏–∫–ª while",
            tags: ["while", "—Ü–∏–∫–ª", "–ø–æ–∫–∞"],
            answer: `
–ü—Ä–∏–º–µ—Ä —Ü–∏–∫–ª–∞ <code>while</code>:

<pre><code>count = 0

while count &lt; 3:
    print("count =", count)
    count += 1</code></pre>

–í–∞–∂–Ω–æ: —Å–ª–µ–¥–∏, —á—Ç–æ–±—ã —É—Å–ª–æ–≤–∏–µ –∫–æ–≥–¥–∞-–Ω–∏–±—É–¥—å —Å—Ç–∞–ª–æ –ª–æ–∂–Ω—ã–º, –∏–Ω–∞—á–µ –±—É–¥–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª.
            `
        },
        {
            q: "—Å–ø–∏—Å–æ–∫ comprehension",
            tags: ["list comprehension", "—Å–ø–∏—Å–æ–∫", "–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ø–∏—Å–∫–∞"],
            answer: `
–°–ø–∏—Å–æ–∫ (list comprehension) ‚Äî —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫:

<pre><code>numbers = [1, 2, 3, 4, 5]
squares = [x * x for x in numbers]
print(squares)  # [1, 4, 9, 16, 25]</code></pre>
            `
        },
        {
            q: "—Ñ—É–Ω–∫—Ü–∏—è def",
            tags: ["def", "—Ñ—É–Ω–∫—Ü–∏—è", "return"],
            answer: `
–û–±—ä—è–≤–ª–µ–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:

<pre><code>def greet(name):
    print("–ü—Ä–∏–≤–µ—Ç,", name)

greet("–ê—Ä—Ç—ë–º")</code></pre>

–§—É–Ω–∫—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –∑–Ω–∞—á–µ–Ω–∏–µ:

<pre><code>def add(a, b):
    return a + b

result = add(2, 3)
print(result)</code></pre>
            `
        },
        {
            q: "–∫–ª–∞—Å—Å –∏ –æ–±—ä–µ–∫—Ç",
            tags: ["class", "–∫–ª–∞—Å—Å", "–æ–±—ä–µ–∫—Ç", "self"],
            answer: `
–ü—Ä–æ—Å—Ç–∞—è –º–æ–¥–µ–ª—å –∫–ª–∞—Å—Å–∞:

<pre><code>class Player:
    def __init__(self, name, level):
        self.name = name
        self.level = level

    def info(self):
        print(f"–ò–≥—Ä–æ–∫ {self.name}, —É—Ä–æ–≤–µ–Ω—å {self.level}")

p = Player("–ê—Ä—Ç—ë–º", 5)
p.info()</code></pre>
            `
        },
        {
            q: "—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª",
            tags: ["—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª", "open", "read"],
            answer: `
–ß—Ç–µ–Ω–∏–µ –≤—Å–µ–≥–æ —Ñ–∞–π–ª–∞:

<pre><code>with open("data.txt", "r", encoding="utf-8") as f:
    text = f.read()
    print(text)</code></pre>

–ß—Ç–µ–Ω–∏–µ –ø–æ —Å—Ç—Ä–æ–∫–∞–º:

<pre><code>with open("data.txt", "r", encoding="utf-8") as f:
    for line in f:
        print(line.strip())</code></pre>
            `
        },
        {
            q: "–∑–∞–ø–∏—Å–∞—Ç—å —Ñ–∞–π–ª",
            tags: ["–∑–∞–ø–∏—Å–∞—Ç—å —Ñ–∞–π–ª", "open", "write"],
            answer: `
–ó–∞–ø–∏—Å—å —Ç–µ–∫—Å—Ç–∞ –≤ —Ñ–∞–π–ª (–ø–µ—Ä–µ–∑–∞–ø–∏—Å—å):

<pre><code>with open("output.txt", "w", encoding="utf-8") as f:
    f.write("–ü—Ä–∏–≤–µ—Ç –∏–∑ Python!")</code></pre>

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª:

<pre><code>with open("output.txt", "a", encoding="utf-8") as f:
    f.write("\\n–ù–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞")</code></pre>
            `
        },
        {
            q: "–æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è try except",
            tags: ["try", "except", "–æ—à–∏–±–∫–∞", "–∏—Å–∫–ª—é—á–µ–Ω–∏–µ"],
            answer: `
–ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:

<pre><code>try:
    x = int(input("–í–≤–µ–¥–∏ —á–∏—Å–ª–æ: "))
    print("x * 2 =", x * 2)
except ValueError:
    print("–≠—Ç–æ –Ω–µ —á–∏—Å–ª–æ!")</code></pre>
            `
        },
        {
            q: "if __name__ == '__main__'",
            tags: ["__name__", "main", "—Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞"],
            answer: `
–ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è <code>if __name__ == "__main__"</code> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞:

<pre><code>def main():
    print("–ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏")

if __name__ == "__main__":
    main()</code></pre>

–¢–∞–∫ –∫–æ–¥ –≤ <code>main()</code> –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—Ä—è–º–æ–º –∑–∞–ø—É—Å–∫–µ —Ñ–∞–π–ª–∞, –Ω–æ –Ω–µ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –∫–∞–∫ –º–æ–¥—É–ª—è.
            `
        },
        {
            q: "—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç pip",
            tags: ["pip", "—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å", "package"],
            answer: `
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞:

<pre><code>pip install requests</code></pre>

–ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π Python, –∏–Ω–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç:

<pre><code>python -m pip install requests
python3 -m pip install requests</code></pre>
            `
        },
        {
            q: "–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ python",
            tags: ["–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π", "comment", "—Ä–µ—à–µ—Ç–∫–∞"],
            answer: `
–û–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:

<pre><code># –≠—Ç–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
x = 10  # –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ—Å–ª–µ –∫–æ–¥–∞</code></pre>

–ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ–±—ã—á–Ω–æ –¥–µ–ª–∞—é—Ç —á–µ—Ä–µ–∑ —Å—Ç—Ä–æ–∫—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

<pre><code>"""
–≠—Ç–æ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π
–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π/–æ–ø–∏—Å–∞–Ω–∏–µ
"""
</code></pre>
            `
        },
        {
            q: "–ø–æ–ª—É—á–∏—Ç—å –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
            tags: ["input", "–≤–≤–æ–¥", "–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"],
            answer: `
–î–ª—è –≤–≤–æ–¥–∞ —Å—Ç—Ä–æ–∫–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

<pre><code>name = input("–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç? ")
print("–ü—Ä–∏–≤–µ—Ç,", name)</code></pre>

–î–ª—è —á–∏—Å–ª–∞:

<pre><code>age = int(input("–°–∫–æ–ª—å–∫–æ —Ç–µ–±–µ –ª–µ—Ç? "))
print("–ß–µ—Ä–µ–∑ –≥–æ–¥ –±—É–¥–µ—Ç", age + 1)</code></pre>
            `
        }
    ];

    // =========================
    // 4. –ß–ê–¢ –ò –†–ï–ñ–ò–ú–´
    // =========================

    const chatEl = document.getElementById("chat");
    const inputEl = document.getElementById("userInput");
    const sendBtn = document.getElementById("sendBtn");
    const modeButtons = document.querySelectorAll(".mode-btn");
    const hintsEl = document.getElementById("hints");

    let currentMode = "general"; // "general" | "python"

    function setMode(mode) {
        currentMode = mode;

        modeButtons.forEach(btn => {
            btn.classList.toggle("active", btn.dataset.mode === mode);
        });

        if (mode === "general") {
            inputEl.placeholder = "–ó–∞–¥–∞–π –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä: —á—Ç–æ —Ç–∞–∫–æ–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è?";
            hintsEl.innerHTML = `
                <span>—á—Ç–æ —Ç–∞–∫–æ–µ artix</span>
                <span>—á—Ç–æ —Ç–∞–∫–æ–µ python</span>
                <span>—á—Ç–æ —Ç–∞–∫–æ–µ –∞–ª–≥–æ—Ä–∏—Ç–º</span>
            `;
            addMessage("–û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º: –º–æ–∂–Ω–æ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –≤–µ—â–∏ ‚Äî –ø—Ä–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∞–ª–≥–æ—Ä–∏—Ç–º—ã, Python –∏ —Ç.–ø.", "bot");
        } else {
            inputEl.placeholder = "–°–ø—Ä–æ—Å–∏ –ø—Ä–æ –∫–æ–¥ –Ω–∞ Python, –Ω–∞–ø—Ä–∏–º–µ—Ä: –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Ü–∏–∫–ª for –≤ python";
            hintsEl.innerHTML = `
                <span>–∫–∞–∫ –≤—ã–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –Ω–∞ —ç–∫—Ä–∞–Ω</span>
                <span>–∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Ü–∏–∫–ª for –≤ python</span>
                <span>–∫–∞–∫ –æ–±—ä—è–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é</span>
            `;
            addMessage("Python —Ä–µ–∂–∏–º: –∑–∞–¥–∞–π –≤–æ–ø—Ä–æ—Å, –∞ —è –ø–æ–∫–∞–∂—É –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –∏–ª–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ.", "bot");
        }
    }

    modeButtons.forEach(btn => {
        btn.addEventListener("click", () => {
            if (btn.dataset.mode !== currentMode) {
                setMode(btn.dataset.mode);
            }
        });
    });

    function addMessage(text, from, isHtml = false) {
        const div = document.createElement("div");
        div.className = "msg " + (from === "user" ? "msg-user" : "msg-bot");

        const span = document.createElement("span");
        if (isHtml) {
            span.innerHTML = text;
        } else {
            span.textContent = text;
        }

        div.appendChild(span);
        chatEl.appendChild(div);
        chatEl.scrollTop = chatEl.scrollHeight;
    }

    function basicGreetingReply(question) {
        const q = question.toLowerCase();
        if (q.includes("–ø—Ä–∏–≤–µ—Ç") || q.includes("–∑–¥—Ä–∞–≤—Å—Ç–≤")) {
            return "–ü—Ä–∏–≤–µ—Ç! –Ø ARTIX. –í—ã–±–µ—Ä–∏ —Ä–µ–∂–∏–º ‚Äî –æ–±—ã—á–Ω—ã–π –∏–ª–∏ Python ‚Äî –∏ –∑–∞–¥–∞–≤–∞–π –≤–æ–ø—Ä–æ—Å—ã.";
        }
        if (q.includes("—Å–ø–∞—Å–∏–±–æ")) {
            return "–†–∞–¥ –ø–æ–º–æ—á—å!";
        }
        if (q.includes("–∫–∞–∫ –¥–µ–ª–∞")) {
            return "–†–∞–±–æ—Ç–∞—é —Å—Ç–∞–±–∏–ª—å–Ω–æ, –≥–æ—Ç–æ–≤ —Ä–∞–∑–±–∏—Ä–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ üôÇ";
        }
        return null;
    }

    function answerForMode(question) {
        // –±—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ—Å—Ç—ã—Ö —Ñ—Ä–∞–∑
        const greet = basicGreetingReply(question);
        if (greet) return { answer: greet, isHtml: false };

        const kb = currentMode === "python" ? pythonKnowledge : generalKnowledge;
        const { item, score } = findBestMatch(question, kb);

        if (item && score >= 0.28) {
            return { answer: item.answer, isHtml: true };
        }

        if (currentMode === "python") {
            return {
                answer: "–Ø –ø–æ–∫–∞ –∑–Ω–∞—é —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ –≤–µ—â–∏ –ø–æ Python: –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —É—Å–ª–æ–≤–∏—è, —Ü–∏–∫–ª—ã, —Ñ—É–Ω–∫—Ü–∏–∏, –∫–ª–∞—Å—Å—ã, —Ñ–∞–π–ª—ã, –æ—à–∏–±–∫–∏ –∏ –≤–≤–æ–¥. –ü–æ–ø—Ä–æ–±—É–π —Å–ø—Ä–æ—Å–∏—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä: ¬´–∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Ü–∏–∫–ª for –≤ python¬ª –∏–ª–∏ ¬´–∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª –≤ python¬ª.",
                isHtml: false
            };
        } else {
            return {
                answer: "–Ø –Ω–µ –Ω–∞—à—ë–ª –ø–æ–¥—Ö–æ–¥—è—â–∏–π –æ—Ç–≤–µ—Ç. –ü–æ–ø—Ä–æ–±—É–π –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å –∏–ª–∏ —Å–ø—Ä–æ—Å–∏—Ç—å —á—Ç–æ-—Ç–æ –±–∞–∑–æ–≤–æ–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä: ¬´—á—Ç–æ —Ç–∞–∫–æ–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è¬ª –∏–ª–∏ ¬´—á—Ç–æ —Ç–∞–∫–æ–µ python¬ª.",
                isHtml: false
            };
        }
    }

    function handleSend() {
        const text = inputEl.value.trim();
        if (!text) return;

        addMessage(text, "user");
        inputEl.value = "";

        const { answer, isHtml } = answerForMode(text);

        setTimeout(() => {
            addMessage(answer, "bot", isHtml);
        }, 150);
    }

    sendBtn.addEventListener("click", handleSend);
    inputEl.addEventListener("keydown", (e) => {
        if (e.key === "Enter") handleSend();
    });

    // —Å—Ç–∞—Ä—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    addMessage("–ü—Ä–∏–≤–µ—Ç! –Ø ARTIX. –í –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ –æ—Ç–≤–µ—á–∞—é –Ω–∞ –±–∞–∑–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã, –≤ Python —Ä–µ–∂–∏–º–µ –ø–æ–∫–∞–∑—ã–≤–∞—é –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞.", "bot");
</script>
</body>
</html>
